# js-telegram-bot

## Если я хочу написать с нуля, то как создать такой шаблон 

$ `express js-telegram-bot` //создали проект express

$ `cd js-telegram-bot` //перешли в папку

$ `npm i` //установили зависимости

$ `npm i nodemon` //если не ходите сами каждый раз перезапускать сервер $ `npm start`, то поменяв в `package.json` команду `"start": "node ./bin/www"` на `"start": "nodemon ./bin/www"`, сервер не нужно будет перезапускать - сервер сам будет перезапускаться при сохранении файла

$ `npm i dotenv` //чтобы не хранить ключи в переменных (чтобы чужие глаза не увидели), который будет попадать в Git, то для этого пишем свои переменные в `.env` файле.

Например, `.env`-файл

```
BOT_TOKEN = qwertyuiop123456789
```

В файле, где нужена переменная, её вызываем

```js
const db = require('dotenv').config()
if (db.error)
    throw db.error
else
    console.log(db.parsed) //вывести все переменные среды

const BOT_TOKEN = db.parsed.BOT_TOKEN
```

`.env` прописываем в `.gitignore`, чтобы не попал в репозиторий файл

$ `npm i telegraf` //чтобы использовать удобные команды для работы с ботом Telegram


## Дерево проекта

```
.
├── bin                     //сгенерированно express
├── node_modules            //папка с Node JS модулями
├── public                  //сгенерированно express
├── routes                  //сгенерированно express
├── src-bot                 //папка, где исходники бота
├── views                   //сгенерированно express
├── .env                    //файл с переменнми, которые не попадут на GitHub (не попадут на чужие глаза)
├── .gitignore              //файл, в котором описано, что игнорировать Git'у
├── app.js                  //сгенерированно express
├── package.json            //файл с Node JS пакетами, которые устанавливаются командой npm i, и со скриптами
├── package-lock.json       //...
└── README.md               //файл с описанием

6 directories, 6 files
```

## Как работать с репозиторием

1. Клонируем репозиторий.
1. Устанавливаем все зависимости $ `npm i` (Должен быть установлен Node JS)
1. Заносим токен бота в файл `.env`: `BOT_TOKEN = qwertyuiop123456789`
1. Запускаем сервер командой $ `npm run start`
1. Пишим своего бота (для удобства вынесли его в папку `src-bot`)
